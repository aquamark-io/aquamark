<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aquamark Wholesale API</title>
  <style>
    body {
      font-family: Inter, sans-serif;
      margin: 40px auto;
      padding: 0 20px;
      max-width: 800px;
      color: #111;
      line-height: 1.6;
    }
    h1, h2 {
      color: #467EFF;
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: monospace;
    }
    pre {
      background: #f9f9f9;
      padding: 10px;
      overflow-x: auto;
      border-left: 4px solid #467EFF;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1em 0;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
    }
    th {
      background: #f4f4f4;
      text-align: left;
    }
  </style>
</head>
<body>

  <h1>üßä Aquamark Wholesale API</h1>
  <p><strong>Endpoint:</strong> <code>https://aquamark-lenders.onrender.com/watermark</code><br/>
  <strong>Authentication:</strong> Bearer Token<br/>
  <strong>Email for API access:</strong> <a href="mailto:hey@aquamark.io">hey@aquamark.io</a></p>

  <h2>üîê Authentication</h2>
  <pre>Authorization: Bearer YOUR_API_KEY</pre>

  <h2>üì• POST /watermark</h2>
  <p>Upload a single PDF to be watermarked with your stored logo and optional tracking info.</p>

  <table>
    <thead>
      <tr>
        <th>Field</th><th>Type</th><th>Required</th><th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>user_email</td><td>string</td><td>Yes</td><td>Your email (used to locate your logo)</td></tr>
      <tr><td>file</td><td>file</td><td>Yes</td><td>Single PDF (max 25MB)</td></tr>
      <tr><td>lender</td><td>string</td><td>No</td><td>Embedded in QR code</td></tr>
      <tr><td>salesperson</td><td>string</td><td>No</td><td>Embedded in QR code</td></tr>
      <tr><td>processor</td><td>string</td><td>No</td><td>Embedded in QR code</td></tr>
      <tr><td>state</td><td>string</td><td>No</td><td>Used for compliance alert if applicable</td></tr>
    </tbody>
  </table>

  <h2>üíª Example (cURL)</h2>
  <pre>curl -X POST "https://aquamark-lenders.onrender.com/watermark" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -F "user_email=bob@example.com" \
  -F "file=@statement1.pdf" \
  -F "lender=Fora Financial" \
  -F "salesperson=Jack Dawson" \
  -F "processor=Rose DeWitt" \
  -F "state=CA" \
  --output "statement1 - protected.pdf"</pre>

  <h2>üì´ Postman Setup</h2>
  <ul>
    <li><strong>Method:</strong> POST</li>
    <li><strong>URL:</strong> <code>https://aquamark-lenders.onrender.com/watermark</code></li>
    <li><strong>Auth:</strong> Bearer Token</li>
    <li><strong>Body:</strong> <code>form-data</code> (fields as listed above)</li>
  </ul>

  <h2>‚úÖ Response</h2>
  <p>Returns a protected PDF with:</p>
  <ul>
    <li>Your logo watermark (beneath text, tiled diagonally)</li>
    <li>A QR code with optional tracking info</li>
    <li>A state compliance banner if applicable</li>
  </ul>

  <h2>‚ùó Error Codes</h2>
  <table>
    <thead>
      <tr><th>Code</th><th>Description</th></tr>
    </thead>
    <tbody>
      <tr><td>401</td><td>Invalid API key</td></tr>
      <tr><td>403</td><td>Plan not approved</td></tr>
      <tr><td>422</td><td>No logo stored</td></tr>
      <tr><td>429</td><td>Usage limit exceeded</td></tr>
      <tr><td>500</td><td>Internal error</td></tr>
    </tbody>
  </table>

  <p style="margin-top: 2em;">Need help? Email <a href="mailto:hey@aquamark.io">hey@aquamark.io</a></p>

</body>
</html>
